<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_95) on Fri Jan 29 20:29:45 CET 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>TAPMetadata</title>
<meta name="date" content="2016-01-29">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TAPMetadata";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TAPMetadata.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../tap/metadata/TAPForeignKey.html" title="class in tap.metadata"><span class="strong">Prev Class</span></a></li>
<li><a href="../../tap/metadata/TAPMetadata.STDSchema.html" title="enum in tap.metadata"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?tap/metadata/TAPMetadata.html" target="_top">Frames</a></li>
<li><a href="TAPMetadata.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">tap.metadata</div>
<h2 title="Class TAPMetadata" class="title">Class TAPMetadata</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>tap.metadata.TAPMetadata</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Iterable&lt;<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&gt;, <a href="../../tap/resource/TAPResource.html" title="interface in tap.resource">TAPResource</a>, <a href="../../tap/resource/VOSIResource.html" title="interface in tap.resource">VOSIResource</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">TAPMetadata</span>
extends java.lang.Object
implements java.lang.Iterable&lt;<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&gt;, <a href="../../tap/resource/VOSIResource.html" title="interface in tap.resource">VOSIResource</a>, <a href="../../tap/resource/TAPResource.html" title="interface in tap.resource">TAPResource</a></pre>
<div class="block"><p>Let listing all schemas, tables and columns available in a TAP service.
 This list also corresponds to the TAP resource "/tables".</p>
 
 <p>
        Only schemas are stored in this object. So that's why only schemas can be added and removed
        from this class. However, <a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata"><code>TAPSchema</code></a> objects are listing tables, whose the object
        representation is listing columns. So to add tables, you must first embed them in a schema.
 </p>
 
 <p>
        All metadata have two names: one to use in ADQL queries and the other to use when really querying
        the database. This is very useful to hide the real complexity of the database and propose
        a simpler view of the query-able data. It is particularly useful if a schema does not exist in the
        database but has been added in the TAP schema for more logical separation on the user point of view.
        In a such case, the schema would have an ADQL name but no DB name (NULL value ; which is possible only
        with <a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata"><code>TAPSchema</code></a> objects).
 </p></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>2.1 (10/2015)</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Gr&eacute;gory Mantelet (CDS;ARI)</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.STDSchema.html" title="enum in tap.metadata">TAPMetadata.STDSchema</a></strong></code>
<div class="block">Enumeration of all schemas defined in the TAP standard.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.STDTable.html" title="enum in tap.metadata">TAPMetadata.STDTable</a></strong></code>
<div class="block">Enumeration of all tables of TAP_SCHEMA.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.TAPTableIterator.html" title="class in tap.metadata">TAPMetadata.TAPTableIterator</a></strong></code>
<div class="block">Let iterating over the list of all tables contained in a given <a href="../../tap/metadata/TAPMetadata.html" title="class in tap.metadata"><code>TAPMetadata</code></a> object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#accessURL">accessURL</a></strong></code>
<div class="block">Part of the TAP URI which identify this TAP resource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#RESOURCE_NAME">RESOURCE_NAME</a></strong></code>
<div class="block">Resource name of the TAP metadata.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.Map&lt;java.lang.String,<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#schemas">schemas</a></strong></code>
<div class="block">List of all schemas available through the TAP service.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../tap/metadata/TAPMetadata.html#TAPMetadata()">TAPMetadata</a></strong>()</code>
<div class="block">Build an empty list of metadata.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a></code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#addSchema(java.lang.String)">addSchema</a></strong>(java.lang.String&nbsp;schemaName)</code>
<div class="block">Build a new <a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata"><code>TAPSchema</code></a> object with the given ADQL name.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a></code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#addSchema(java.lang.String,%20java.lang.String,%20java.lang.String)">addSchema</a></strong>(java.lang.String&nbsp;schemaName,
         java.lang.String&nbsp;description,
         java.lang.String&nbsp;utype)</code>
<div class="block">Build a new <a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata"><code>TAPSchema</code></a> object with the given ADQL name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#addSchema(tap.metadata.TAPSchema)">addSchema</a></strong>(<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&nbsp;s)</code>
<div class="block">Add the given schema inside this TAP metadata set.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#destroy()">destroy</a></strong>()</code>
<div class="block">Let free properly all system/file/DB resources kept opened by this TAP resource.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#executeResource(javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse)">executeResource</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;request,
               javax.servlet.http.HttpServletResponse&nbsp;response)</code>
<div class="block">Interpret the given request, execute the appropriate action and finally return a result or display information to the user.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#getAccessURL()">getAccessURL</a></strong>()</code>
<div class="block">Get the URL which lets access this resource.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#getCapability()">getCapability</a></strong>()</code>
<div class="block">Get the capabilities of this resource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#getName()">getName</a></strong>()</code>
<div class="block">Get the name of this TAP resource.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#getNbSchemas()">getNbSchemas</a></strong>()</code>
<div class="block">Get the number of schemas contained in this TAP metadata set.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#getNbTables()">getNbTables</a></strong>()</code>
<div class="block">Get the number of all tables contained in this TAP metadata set.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a></code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#getSchema(java.lang.String)">getSchema</a></strong>(java.lang.String&nbsp;schemaName)</code>
<div class="block">Search for a schema having the given ADQL name.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#getStandardID()">getStandardID</a></strong>()</code>
<div class="block">Get the standardID of this endpoint of the VOSI interface.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a></code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#getStdSchema(boolean)">getStdSchema</a></strong>(boolean&nbsp;isSchemaSupported)</code>
<div class="block">
        Get the definition of the whole standard TAP_SCHEMA.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../tap/metadata/TAPTable.html" title="class in tap.metadata">TAPTable</a></code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#getStdTable(tap.metadata.TAPMetadata.STDTable)">getStdTable</a></strong>(<a href="../../tap/metadata/TAPMetadata.STDTable.html" title="enum in tap.metadata">TAPMetadata.STDTable</a>&nbsp;tableId)</code>
<div class="block">Get the definition of the specified standard TAP table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../adql/db/DBTable.html" title="interface in adql.db">DBTable</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#getTable(java.lang.String)">getTable</a></strong>(java.lang.String&nbsp;tableName)</code>
<div class="block">Search in this TAP metadata set for all tables whose the ADQL name matches the given one,
 whatever is their schema.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../tap/metadata/TAPTable.html" title="class in tap.metadata">TAPTable</a></code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#getTable(java.lang.String,%20java.lang.String)">getTable</a></strong>(java.lang.String&nbsp;schemaName,
        java.lang.String&nbsp;tableName)</code>
<div class="block">Search for the specified table in this TAP metadata set.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Iterator&lt;<a href="../../tap/metadata/TAPTable.html" title="class in tap.metadata">TAPTable</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#getTables()">getTables</a></strong>()</code>
<div class="block">Get the list of all tables available in this TAP metadata set.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#hasSchema(java.lang.String)">hasSchema</a></strong>(java.lang.String&nbsp;schemaName)</code>
<div class="block">Tell whether there is a schema with the given ADQL name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#hasTable(java.lang.String)">hasTable</a></strong>(java.lang.String&nbsp;tableName)</code>
<div class="block">Tell whether this TAP metadata set contains a table with the given ADQL name, whatever is its schema.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#hasTable(java.lang.String,%20java.lang.String)">hasTable</a></strong>(java.lang.String&nbsp;schemaName,
        java.lang.String&nbsp;tableName)</code>
<div class="block">Tell whether this TAP metadata set contains the specified table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#init(javax.servlet.ServletConfig)">init</a></strong>(javax.servlet.ServletConfig&nbsp;config)</code>
<div class="block">Let initialize this TAP resource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#isEmpty()">isEmpty</a></strong>()</code>
<div class="block">Tell whether this TAP metadata set contains no schema.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Iterator&lt;<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#iterator()">iterator</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#removeAllSchemas()">removeAllSchemas</a></strong>()</code>
<div class="block">Remove all schemas of this metadata set.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a></code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#removeSchema(java.lang.String)">removeSchema</a></strong>(java.lang.String&nbsp;schemaName)</code>
<div class="block">Remove the schema having the given ADQL name.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../tap/metadata/TAPMetadata.STDTable.html" title="enum in tap.metadata">TAPMetadata.STDTable</a></code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#resolveStdTable(java.lang.String)">resolveStdTable</a></strong>(java.lang.String&nbsp;tableName)</code>
<div class="block">Tell whether the given table name is a standard TAP table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#setTAPBaseURL(java.lang.String)">setTAPBaseURL</a></strong>(java.lang.String&nbsp;baseURL)</code>
<div class="block">Let diffuse the base URL of the TAP service to all its TAP resources.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#write(java.io.PrintWriter)">write</a></strong>(java.io.PrintWriter&nbsp;writer)</code>
<div class="block">Format in XML this whole metadata set and write it in the given writer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#writeAtt(java.lang.String,%20java.lang.String,%20java.lang.String,%20boolean,%20java.io.PrintWriter)">writeAtt</a></strong>(java.lang.String&nbsp;prefix,
        java.lang.String&nbsp;attributeName,
        java.lang.String&nbsp;attributeValue,
        boolean&nbsp;isOptionalAttr,
        java.io.PrintWriter&nbsp;writer)</code>
<div class="block">Write the specified metadata attribute as a simple XML node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#writeColumn(tap.metadata.TAPColumn,%20java.io.PrintWriter)">writeColumn</a></strong>(<a href="../../tap/metadata/TAPColumn.html" title="class in tap.metadata">TAPColumn</a>&nbsp;c,
           java.io.PrintWriter&nbsp;writer)</code>
<div class="block">Format in XML the given column and then write it in the given writer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#writeForeignKey(tap.metadata.TAPForeignKey,%20java.io.PrintWriter)">writeForeignKey</a></strong>(<a href="../../tap/metadata/TAPForeignKey.html" title="class in tap.metadata">TAPForeignKey</a>&nbsp;fk,
               java.io.PrintWriter&nbsp;writer)</code>
<div class="block">Format in XML the given foreign key and then write it in the given writer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#writeSchema(tap.metadata.TAPSchema,%20java.io.PrintWriter)">writeSchema</a></strong>(<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&nbsp;s,
           java.io.PrintWriter&nbsp;writer)</code>
<div class="block">Format in XML the given schema and then write it in the given writer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../tap/metadata/TAPMetadata.html#writeTable(tap.metadata.TAPTable,%20java.io.PrintWriter)">writeTable</a></strong>(<a href="../../tap/metadata/TAPTable.html" title="class in tap.metadata">TAPTable</a>&nbsp;t,
          java.io.PrintWriter&nbsp;writer)</code>
<div class="block">Format in XML the given table and then write it in the given writer.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="RESOURCE_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RESOURCE_NAME</h4>
<pre>public static final&nbsp;java.lang.String RESOURCE_NAME</pre>
<div class="block">Resource name of the TAP metadata. This name is also used - in this class - in the TAP URL to identify this resource.
 Here it corresponds to the following URI: ".../tables".</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#tap.metadata.TAPMetadata.RESOURCE_NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="schemas">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>schemas</h4>
<pre>protected final&nbsp;java.util.Map&lt;java.lang.String,<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&gt; schemas</pre>
<div class="block">List of all schemas available through the TAP service.</div>
</li>
</ul>
<a name="accessURL">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>accessURL</h4>
<pre>protected&nbsp;java.lang.String accessURL</pre>
<div class="block">Part of the TAP URI which identify this TAP resource.
 By default, it is the resource name ; so here, the corresponding TAP URI would be: "/tables".</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TAPMetadata()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TAPMetadata</h4>
<pre>public&nbsp;TAPMetadata()</pre>
<div class="block"><p>Build an empty list of metadata.</p>
 
 <p><i>Note:
        By default, a TAP service must have at least a TAP_SCHEMA schema which contains a set of 5 tables
        (schemas, tables, columns, keys and key_columns). This schema is not created here by default
        because it can be customized by the service implementor. Besides, the DB name may be different.
        However, you can easily get this schema thanks to the function <a href="../../tap/metadata/TAPMetadata.html#getStdSchema(boolean)"><code>getStdSchema(boolean)</code></a>
        which returns the standard definition of this schema (including all tables and columns described
        by the standard). For a standard definition of this schema, you can then write the following:
 </i></p>
 <pre>
 TAPMetadata meta = new TAPMetadata();
 meta.addSchema(TAPMetadata.getStdSchema());
 </pre>
 <p><i>
        Of course, this schema (and its tables and their columns) can be customized after if needed.
        Otherwise, if you want customize just some part of this schema, you can also use the function
        <a href="../../tap/metadata/TAPMetadata.html#getStdTable(tap.metadata.TAPMetadata.STDTable)"><code>getStdTable(STDTable)</code></a> to get just the standard definition of some of its tables, either
        to customize them or to merely get them and keep them like they are.
 </i></p></div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addSchema(tap.metadata.TAPSchema)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addSchema</h4>
<pre>public final&nbsp;void&nbsp;addSchema(<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&nbsp;s)</pre>
<div class="block"><p>Add the given schema inside this TAP metadata set.</p>
 
 <p><i>Note:
        If the given schema is NULL, nothing will be done.
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>s</code> - The schema to add.</dd></dl>
</li>
</ul>
<a name="addSchema(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addSchema</h4>
<pre>public&nbsp;<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&nbsp;addSchema(java.lang.String&nbsp;schemaName)</pre>
<div class="block"><p>Build a new <a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata"><code>TAPSchema</code></a> object with the given ADQL name.
 Then, add it inside this TAP metadata set.</p>
 
 <p><i>Note:
        The built <a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata"><code>TAPSchema</code></a> object is returned, so that being modified afterwards if needed.
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - ADQL name of the schema to create and add inside this TAP metadata set.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The created and added schema,
                or NULL if the given schema is NULL or an empty string.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../tap/metadata/TAPSchema.html#TAPSchema(java.lang.String)"><code>TAPSchema.TAPSchema(String)</code></a>, 
<a href="../../tap/metadata/TAPMetadata.html#addSchema(tap.metadata.TAPSchema)"><code>addSchema(TAPSchema)</code></a></dd></dl>
</li>
</ul>
<a name="addSchema(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addSchema</h4>
<pre>public&nbsp;<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&nbsp;addSchema(java.lang.String&nbsp;schemaName,
                  java.lang.String&nbsp;description,
                  java.lang.String&nbsp;utype)</pre>
<div class="block"><p>Build a new <a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata"><code>TAPSchema</code></a> object with the given ADQL name.
 Then, add it inside this TAP metadata set.</p>
 
 <p><i>Note:
        The built <a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata"><code>TAPSchema</code></a> object is returned, so that being modified afterwards if needed.
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - ADQL name of the schema to create and add inside this TAP metadata set.</dd><dd><code>description</code> - Description of the new schema. <i>MAY be NULL</i></dd><dd><code>utype</code> - UType associating the new schema with a data-model. <i>MAY be NULL</i></dd>
<dt><span class="strong">Returns:</span></dt><dd>The created and added schema,
                or NULL if the given schema is NULL or an empty string.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../tap/metadata/TAPSchema.html#TAPSchema(java.lang.String,%20java.lang.String,%20java.lang.String)"><code>TAPSchema.TAPSchema(String, String, String)</code></a>, 
<a href="../../tap/metadata/TAPMetadata.html#addSchema(tap.metadata.TAPSchema)"><code>addSchema(TAPSchema)</code></a></dd></dl>
</li>
</ul>
<a name="hasSchema(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasSchema</h4>
<pre>public final&nbsp;boolean&nbsp;hasSchema(java.lang.String&nbsp;schemaName)</pre>
<div class="block"><p>Tell whether there is a schema with the given ADQL name.</p>
 
 <p><i><b>Important note:</b>
        This function is case sensitive!
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - ADQL name of the schema whose the existence must be checked.</dd>
<dt><span class="strong">Returns:</span></dt><dd><i>true</i> if a schema with the given ADQL name exists, <i>false</i> otherwise.</dd></dl>
</li>
</ul>
<a name="getSchema(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSchema</h4>
<pre>public final&nbsp;<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&nbsp;getSchema(java.lang.String&nbsp;schemaName)</pre>
<div class="block"><p>Search for a schema having the given ADQL name.</p>
 
 <p><i><b>Important note:</b>
        This function is case sensitive!
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - ADQL name of the schema to search.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The schema having the given ADQL name,
                or NULL if no such schema can be found.</dd></dl>
</li>
</ul>
<a name="getNbSchemas()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNbSchemas</h4>
<pre>public final&nbsp;int&nbsp;getNbSchemas()</pre>
<div class="block">Get the number of schemas contained in this TAP metadata set.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Number of all schemas.</dd></dl>
</li>
</ul>
<a name="isEmpty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre>public final&nbsp;boolean&nbsp;isEmpty()</pre>
<div class="block">Tell whether this TAP metadata set contains no schema.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><i>true</i> if this TAP metadata set has no schema,
                <i>false</i> if it contains at least one schema.</dd></dl>
</li>
</ul>
<a name="removeSchema(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeSchema</h4>
<pre>public final&nbsp;<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&nbsp;removeSchema(java.lang.String&nbsp;schemaName)</pre>
<div class="block"><p>Remove the schema having the given ADQL name.</p>
 
 <p><i><b>Important note:</b>
        This function is case sensitive!
 </i></p>
 
 <p><i><b>WARNING:</b>
        If the goal of this function's call is to delete definitely the specified schema
        from the metadata, you SHOULD also call <a href="../../tap/metadata/TAPTable.html#removeAllForeignKeys()"><code>TAPTable.removeAllForeignKeys()</code></a> on the
        removed table. Indeed, foreign keys of this table would still link the removed table
        with other tables AND columns of the whole metadata set.
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - ADQL name of the schema to remove from this TAP metadata set.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The removed schema,
                or NULL if no such schema can be found.</dd></dl>
</li>
</ul>
<a name="removeAllSchemas()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAllSchemas</h4>
<pre>public final&nbsp;void&nbsp;removeAllSchemas()</pre>
<div class="block">Remove all schemas of this metadata set.</div>
</li>
</ul>
<a name="iterator()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iterator</h4>
<pre>public final&nbsp;java.util.Iterator&lt;<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&gt;&nbsp;iterator()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>iterator</code>&nbsp;in interface&nbsp;<code>java.lang.Iterable&lt;<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="getTables()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTables</h4>
<pre>public&nbsp;java.util.Iterator&lt;<a href="../../tap/metadata/TAPTable.html" title="class in tap.metadata">TAPTable</a>&gt;&nbsp;getTables()</pre>
<div class="block">Get the list of all tables available in this TAP metadata set.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>An iterator over the list of all tables contained in this TAP metadata set.</dd></dl>
</li>
</ul>
<a name="hasTable(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasTable</h4>
<pre>public&nbsp;boolean&nbsp;hasTable(java.lang.String&nbsp;schemaName,
               java.lang.String&nbsp;tableName)</pre>
<div class="block"><p>Tell whether this TAP metadata set contains the specified table.</p>
 
 <p><i>Note:
        This function is case sensitive!
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - ADQL name of the schema owning the table to search.</dd><dd><code>tableName</code> - ADQL name of the table to search.</dd>
<dt><span class="strong">Returns:</span></dt><dd><i>true</i> if the specified table exists, <i>false</i> otherwise.</dd></dl>
</li>
</ul>
<a name="hasTable(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasTable</h4>
<pre>public&nbsp;boolean&nbsp;hasTable(java.lang.String&nbsp;tableName)</pre>
<div class="block"><p>Tell whether this TAP metadata set contains a table with the given ADQL name, whatever is its schema.</p>
 
 <p><i>Note:
        This function is case sensitive!
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tableName</code> - ADQL name of the table to search.</dd>
<dt><span class="strong">Returns:</span></dt><dd><i>true</i> if the specified table exists, <i>false</i> otherwise.</dd></dl>
</li>
</ul>
<a name="getTable(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTable</h4>
<pre>public&nbsp;<a href="../../tap/metadata/TAPTable.html" title="class in tap.metadata">TAPTable</a>&nbsp;getTable(java.lang.String&nbsp;schemaName,
                java.lang.String&nbsp;tableName)</pre>
<div class="block"><p>Search for the specified table in this TAP metadata set.</p>
 
 <p><i>Note:
        This function is case sensitive!
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - ADQL name of the schema owning the table to search.</dd><dd><code>tableName</code> - ADQL name of the table to search.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The table which has the given ADQL name and which is inside the specified schema,
                or NULL if no such table can be found.</dd></dl>
</li>
</ul>
<a name="getTable(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTable</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../adql/db/DBTable.html" title="interface in adql.db">DBTable</a>&gt;&nbsp;getTable(java.lang.String&nbsp;tableName)</pre>
<div class="block"><p>Search in this TAP metadata set for all tables whose the ADQL name matches the given one,
 whatever is their schema.</p>
 
 <p><i>Note:
        This function is case sensitive!
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tableName</code> - ADQL name of the tables to search.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A list of all the tables which have the given ADQL name,
                or an empty list if no such table can be found.</dd></dl>
</li>
</ul>
<a name="getNbTables()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNbTables</h4>
<pre>public&nbsp;int&nbsp;getNbTables()</pre>
<div class="block">Get the number of all tables contained in this TAP metadata set.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Number of all its tables.</dd></dl>
</li>
</ul>
<a name="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../tap/resource/TAPResource.html#getName()">TAPResource</a></code></strong></div>
<div class="block"><p>Get the name of this TAP resource.</p>
 
 <p><i><b>Important note:</b>
        This name MUST NOT be NULL and SHOULD NEVER change.
 </i></p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../tap/resource/TAPResource.html#getName()">getName</a></code>&nbsp;in interface&nbsp;<code><a href="../../tap/resource/TAPResource.html" title="interface in tap.resource">TAPResource</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Name of this TAP resource.</dd></dl>
</li>
</ul>
<a name="setTAPBaseURL(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTAPBaseURL</h4>
<pre>public&nbsp;void&nbsp;setTAPBaseURL(java.lang.String&nbsp;baseURL)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../tap/resource/TAPResource.html#setTAPBaseURL(java.lang.String)">TAPResource</a></code></strong></div>
<div class="block"><p>Let diffuse the base URL of the TAP service to all its TAP resources.</p>
 
 <p><i><b>Important note:</b>
        This function should be called just once: either at the creation of the service or when the first request is sent to the TAP service
        (in this case, the request is also used to finish the initialization of the TAP service, and of all its resources).
 </i></p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../tap/resource/TAPResource.html#setTAPBaseURL(java.lang.String)">setTAPBaseURL</a></code>&nbsp;in interface&nbsp;<code><a href="../../tap/resource/TAPResource.html" title="interface in tap.resource">TAPResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>baseURL</code> - Common URL/URI used in all requests sent by any user to the TAP service.</dd></dl>
</li>
</ul>
<a name="getAccessURL()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAccessURL</h4>
<pre>public&nbsp;java.lang.String&nbsp;getAccessURL()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../tap/resource/VOSIResource.html#getAccessURL()">VOSIResource</a></code></strong></div>
<div class="block">Get the URL which lets access this resource.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../tap/resource/VOSIResource.html#getAccessURL()">getAccessURL</a></code>&nbsp;in interface&nbsp;<code><a href="../../tap/resource/VOSIResource.html" title="interface in tap.resource">VOSIResource</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Access URL.</dd></dl>
</li>
</ul>
<a name="getCapability()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCapability</h4>
<pre>public&nbsp;java.lang.String&nbsp;getCapability()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../tap/resource/VOSIResource.html#getCapability()">VOSIResource</a></code></strong></div>
<div class="block">Get the capabilities of this resource.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../tap/resource/VOSIResource.html#getCapability()">getCapability</a></code>&nbsp;in interface&nbsp;<code><a href="../../tap/resource/VOSIResource.html" title="interface in tap.resource">VOSIResource</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Resource capabilities.</dd></dl>
</li>
</ul>
<a name="getStandardID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStandardID</h4>
<pre>public&nbsp;java.lang.String&nbsp;getStandardID()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../tap/resource/VOSIResource.html#getStandardID()">VOSIResource</a></code></strong></div>
<div class="block"><p>Get the standardID of this endpoint of the VOSI interface.</p>
 
 <p>The standard IDs of the VOSI endpoints are the following:</p>
 <ul>
        <li><b>Capabilities:</b> ivo://ivoa.net/std/VOSI#capabilities</li>
        <li><b>Availability:</b> ivo://ivoa.net/std/VOSI#availability</li>
        <li><b>Tables:</b> ivo://ivoa.net/std/VOSI#tables</li>
 </ul></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../tap/resource/VOSIResource.html#getStandardID()">getStandardID</a></code>&nbsp;in interface&nbsp;<code><a href="../../tap/resource/VOSIResource.html" title="interface in tap.resource">VOSIResource</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Standard ID of this VOSI endpoint.</dd></dl>
</li>
</ul>
<a name="init(javax.servlet.ServletConfig)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(javax.servlet.ServletConfig&nbsp;config)
          throws javax.servlet.ServletException</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../tap/resource/TAPResource.html#init(javax.servlet.ServletConfig)">TAPResource</a></code></strong></div>
<div class="block">Let initialize this TAP resource.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../tap/resource/TAPResource.html#init(javax.servlet.ServletConfig)">init</a></code>&nbsp;in interface&nbsp;<code><a href="../../tap/resource/TAPResource.html" title="interface in tap.resource">TAPResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>config</code> - Servlet configuration. (may be useful for the configuration of this resource)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>javax.servlet.ServletException</code> - If any error prevent the initialization of this TAP resource. In case a such exception is thrown, the service should stop immediately.</dd></dl>
</li>
</ul>
<a name="destroy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../tap/resource/TAPResource.html#destroy()">TAPResource</a></code></strong></div>
<div class="block">Let free properly all system/file/DB resources kept opened by this TAP resource.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../tap/resource/TAPResource.html#destroy()">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="../../tap/resource/TAPResource.html" title="interface in tap.resource">TAPResource</a></code></dd>
</dl>
</li>
</ul>
<a name="executeResource(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeResource</h4>
<pre>public&nbsp;boolean&nbsp;executeResource(javax.servlet.http.HttpServletRequest&nbsp;request,
                      javax.servlet.http.HttpServletResponse&nbsp;response)
                        throws java.io.IOException</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../tap/resource/TAPResource.html#executeResource(javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse)">TAPResource</a></code></strong></div>
<div class="block"><p>Interpret the given request, execute the appropriate action and finally return a result or display information to the user.</p>
 
 <p><b>IMPORTANT:
        "TAP resources can not take the law in their own hands!"</b> :-)
        Errors that could occur inside this function should not be written directly in the given <code>HttpServletResponse</code>.
        They should be thrown to the resources executor: an instance of <a href="../../tap/resource/TAP.html" title="class in tap.resource"><code>TAP</code></a>, which
        will fill the <code>HttpServletResponse</code> with the error in the format described by the IVOA standard - VOTable. Besides, <a href="../../tap/resource/TAP.html" title="class in tap.resource"><code>TAP</code></a> may also
        add more information and may log the error (in function of this type).
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../tap/resource/TAPResource.html#executeResource(javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse)">executeResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../tap/resource/TAPResource.html" title="interface in tap.resource">TAPResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - Request sent by the user and which should be interpreted/executed here.</dd><dd><code>response</code> - Response in which the result of the request must be written.</dd>
<dt><span class="strong">Returns:</span></dt><dd><i>true</i> if the request has been successfully executed, <i>false</i> otherwise (but generally an exception will be sent if the request can't be executed).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If any error occurs while writing the result of the given request.</dd></dl>
</li>
</ul>
<a name="write(java.io.PrintWriter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(java.io.PrintWriter&nbsp;writer)
           throws java.io.IOException</pre>
<div class="block">Format in XML this whole metadata set and write it in the given writer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>writer</code> - Stream in which the XML representation of this metadata must be written.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is any error while writing the XML in the given writer.</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0</dd></dl>
</li>
</ul>
<a name="writeSchema(tap.metadata.TAPSchema, java.io.PrintWriter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeSchema</h4>
<pre>protected&nbsp;void&nbsp;writeSchema(<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&nbsp;s,
               java.io.PrintWriter&nbsp;writer)
                    throws java.io.IOException</pre>
<div class="block"><p>Format in XML the given schema and then write it in the given writer.</p>
 
 <p>Written lines:</p>
 <pre>
 &lt;schema&gt;
        &lt;name&gt;...&lt;/name&gt;
        &lt;title&gt;...&lt;/title&gt;
        &lt;description&gt;...&lt;/description&gt;
        &lt;utype&gt;...&lt;/utype&gt;
                // call #writeTable(TAPTable, PrintWriter) for each table
 &lt;/schema&gt;
 </pre>
 
 <p><i>Note:
        When NULL an attribute or a field is not written. Here this rule concerns: description and utype.
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>s</code> - The schema to format and to write in XML.</dd><dd><code>writer</code> - Output in which the XML serialization of the given schema must be written.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If the connection with the HTTP client has been either canceled or closed for another reason.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../tap/metadata/TAPMetadata.html#writeTable(tap.metadata.TAPTable,%20java.io.PrintWriter)"><code>writeTable(TAPTable, PrintWriter)</code></a></dd></dl>
</li>
</ul>
<a name="writeTable(tap.metadata.TAPTable, java.io.PrintWriter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeTable</h4>
<pre>protected&nbsp;int&nbsp;writeTable(<a href="../../tap/metadata/TAPTable.html" title="class in tap.metadata">TAPTable</a>&nbsp;t,
             java.io.PrintWriter&nbsp;writer)</pre>
<div class="block"><p>Format in XML the given table and then write it in the given writer.</p>
 
 <p>Written lines:</p>
 <pre>
 &lt;table type="..."&gt;
        &lt;name&gt;...&lt;/name&gt;
        &lt;title&gt;...&lt;/title&gt;
        &lt;description&gt;...&lt;/description&gt;
        &lt;utype&gt;...&lt;/utype&gt;
                // call #writeColumn(TAPColumn, PrintWriter) for each column
                // call #writeForeignKey(TAPForeignKey, PrintWriter) for each foreign key
 &lt;/table&gt;
 </pre>
 
 <p><i>Note 1:
        When NULL an attribute or a field is not written. Here this rule concerns: description and utype.
 </i></p>
 
 <p><i>Note 2:
        The PrintWriter buffer is flushed all the 10 columns. At that moment the writer is checked for errors.
        If the error flag is set, a <a href="../../uws/ClientAbortException.html" title="class in uws"><code>ClientAbortException</code></a> is thrown in order to stop the metadata writing.
        This is particularly useful if the metadata data is pretty large.
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>t</code> - The table to format and to write in XML.</dd><dd><code>writer</code> - Output in which the XML serialization of the given table must be written.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The total number of written columns.</dd></dl>
</li>
</ul>
<a name="writeColumn(tap.metadata.TAPColumn, java.io.PrintWriter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeColumn</h4>
<pre>protected&nbsp;void&nbsp;writeColumn(<a href="../../tap/metadata/TAPColumn.html" title="class in tap.metadata">TAPColumn</a>&nbsp;c,
               java.io.PrintWriter&nbsp;writer)</pre>
<div class="block"><p>Format in XML the given column and then write it in the given writer.</p>
 
 <p>Written lines:</p>
 <pre>
 &lt;column std="true|false"&gt; // the value of this field is TAPColumn#isStd()
        &lt;name&gt;...&lt;/name&gt;
        &lt;description&gt;...&lt;/description&gt;
        &lt;unit&gt;...&lt;/unit&gt;
        &lt;utype&gt;...&lt;/utype&gt;
        &lt;ucd&gt;...&lt;/ucd&gt;
        &lt;dataType xsi:type="vod:TAPType" size="..."&gt;...&lt;/dataType&gt;
        &lt;flag&gt;indexed&lt;/flag&gt; // if TAPColumn#isIndexed()
        &lt;flag&gt;primary&lt;/flag&gt; // if TAPColumn#isPrincipal()
 &lt;/column&gt;
 </pre>
 
 <p><i>Note:
        When NULL an attribute or a field is not written. Here this rule concerns: description, unit, utype, ucd and flags.
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>c</code> - The column to format and to write in XML.</dd><dd><code>writer</code> - Output in which the XML serialization of the given column must be written.</dd></dl>
</li>
</ul>
<a name="writeForeignKey(tap.metadata.TAPForeignKey, java.io.PrintWriter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeForeignKey</h4>
<pre>protected&nbsp;void&nbsp;writeForeignKey(<a href="../../tap/metadata/TAPForeignKey.html" title="class in tap.metadata">TAPForeignKey</a>&nbsp;fk,
                   java.io.PrintWriter&nbsp;writer)</pre>
<div class="block"><p>Format in XML the given foreign key and then write it in the given writer.</p>
 
 <p>Written lines:</p>
 <pre>
 &lt;foreignKey&gt;
        &lt;targetTable&gt;...&lt;/targetTable&gt;
        &lt;description&gt;...&lt;/description&gt;
        &lt;utype&gt;...&lt;/utype&gt;
        &lt;fkColumn&gt;
                &lt;fromColumn&gt;...&lt;/fromColumn&gt;
                &lt;targetColumn&gt;...&lt;/targetColumn&gt;
        &lt;/fkColumn&gt;
        ...
 &lt;/foreignKey&gt;
 </pre>
 
 <p><i>Note:
        When NULL an attribute or a field is not written. Here this rule concerns: description and utype.
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fk</code> - The foreign key to format and to write in XML.</dd><dd><code>writer</code> - Output in which the XML serialization of the given foreign key must be written.</dd></dl>
</li>
</ul>
<a name="writeAtt(java.lang.String, java.lang.String, java.lang.String, boolean, java.io.PrintWriter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeAtt</h4>
<pre>protected final&nbsp;void&nbsp;writeAtt(java.lang.String&nbsp;prefix,
            java.lang.String&nbsp;attributeName,
            java.lang.String&nbsp;attributeValue,
            boolean&nbsp;isOptionalAttr,
            java.io.PrintWriter&nbsp;writer)</pre>
<div class="block">Write the specified metadata attribute as a simple XML node.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>prefix</code> - Prefix of the XML node. (generally, space characters)</dd><dd><code>attributeName</code> - Name of the metadata attribute to write (= Name of the XML node).</dd><dd><code>attributeValue</code> - Value of the metadata attribute (= Value of the XML node).</dd><dd><code>isOptionalAttr</code> - <i>true</i> if the attribute to write is optional (in this case, if the value is NULL or an empty string, the whole attribute item won't be written), 
                        <i>false</i> otherwise (here, if the value is NULL or an empty string, the XML item will be written with an empty string as value).</dd><dd><code>writer</code> - Output in which the XML node must be written.</dd></dl>
</li>
</ul>
<a name="getStdSchema(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStdSchema</h4>
<pre>public static final&nbsp;<a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata">TAPSchema</a>&nbsp;getStdSchema(boolean&nbsp;isSchemaSupported)</pre>
<div class="block"><p>
        Get the definition of the whole standard TAP_SCHEMA. Thus, all standard TAP_SCHEMA tables
        (with all their columns) are also included in this object.
 </p>
 
 <p><i>Note:
        This function create the <a href="../../tap/metadata/TAPSchema.html" title="class in tap.metadata"><code>TAPSchema</code></a> and all its <a href="../../tap/metadata/TAPTable.html" title="class in tap.metadata"><code>TAPTable</code></a>s objects on the fly.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>isSchemaSupported</code> - <i>false</i> if the DB name must be prefixed by "TAP_SCHEMA_", <i>true</i> otherwise.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The whole TAP_SCHEMA definition.</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../tap/metadata/TAPMetadata.STDSchema.html#TAPSCHEMA"><code>TAPMetadata.STDSchema.TAPSCHEMA</code></a>, 
<a href="../../tap/metadata/TAPMetadata.STDTable.html" title="enum in tap.metadata"><code>TAPMetadata.STDTable</code></a>, 
<a href="../../tap/metadata/TAPMetadata.html#getStdTable(tap.metadata.TAPMetadata.STDTable)"><code>getStdTable(STDTable)</code></a></dd></dl>
</li>
</ul>
<a name="getStdTable(tap.metadata.TAPMetadata.STDTable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStdTable</h4>
<pre>public static final&nbsp;<a href="../../tap/metadata/TAPTable.html" title="class in tap.metadata">TAPTable</a>&nbsp;getStdTable(<a href="../../tap/metadata/TAPMetadata.STDTable.html" title="enum in tap.metadata">TAPMetadata.STDTable</a>&nbsp;tableId)</pre>
<div class="block"><p>Get the definition of the specified standard TAP table.</p>
 
 <p><i><b>Important note:</b>
        The returned table is not linked at all with a schema, on the contrary of <a href="../../tap/metadata/TAPMetadata.html#getStdSchema(boolean)"><code>getStdSchema(boolean)</code></a> which returns tables linked with the returned schema.
        So, you may have to linked this table to schema (by using <a href="../../tap/metadata/TAPSchema.html#addTable(tap.metadata.TAPTable)"><code>TAPSchema.addTable(TAPTable)</code></a>) whose the ADQL name is TAP_SCHEMA after calling this function.
 </i></p>
 
 <p><i>Note:
        This function create the <a href="../../tap/metadata/TAPTable.html" title="class in tap.metadata"><code>TAPTable</code></a> object on the fly.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tableId</code> - ID of the TAP table to return.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The corresponding table definition (with no schema).</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0</dd></dl>
</li>
</ul>
<a name="resolveStdTable(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>resolveStdTable</h4>
<pre>public static final&nbsp;<a href="../../tap/metadata/TAPMetadata.STDTable.html" title="enum in tap.metadata">TAPMetadata.STDTable</a>&nbsp;resolveStdTable(java.lang.String&nbsp;tableName)</pre>
<div class="block"><p>Tell whether the given table name is a standard TAP table.</p>
 
 <p><i>Note:
        This function is case sensitive. Indeed TAP_SCHEMA tables are defined by the TAP standard by a given case.
        Thus, this case is expected here.  
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tableName</code> - Unqualified table name.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The corresponding <a href="../../tap/metadata/TAPMetadata.STDTable.html" title="enum in tap.metadata"><code>TAPMetadata.STDTable</code></a> or NULL if the given table is not part of the TAP standard.</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TAPMetadata.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../tap/metadata/TAPForeignKey.html" title="class in tap.metadata"><span class="strong">Prev Class</span></a></li>
<li><a href="../../tap/metadata/TAPMetadata.STDSchema.html" title="enum in tap.metadata"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?tap/metadata/TAPMetadata.html" target="_top">Frames</a></li>
<li><a href="TAPMetadata.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
