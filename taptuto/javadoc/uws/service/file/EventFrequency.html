<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_95) on Fri Jan 29 20:29:46 CET 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>EventFrequency</title>
<meta name="date" content="2016-01-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="EventFrequency";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EventFrequency.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../uws/service/file/DefaultOwnerGroupIdentifier.html" title="class in uws.service.file"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../uws/service/file/LocalUWSFileManager.html" title="class in uws.service.file"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?uws/service/file/EventFrequency.html" target="_top">Frames</a></li>
<li><a href="EventFrequency.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">uws.service.file</div>
<h2 title="Class EventFrequency" class="title">Class EventFrequency</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>uws.service.file.EventFrequency</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">EventFrequency</span>
extends java.lang.Object</pre>
<div class="block"><p>Let interpret and computing a frequency.</p>
 
 <h3>Frequency syntax</h3>
 
 <p>The frequency is expressed as a string at initialization of this object. This string must respect the following syntax:</p>
 <ul>
        <li>'D' hh mm : daily schedule at hh:mm</li>
        <li>'W' dd hh mm : weekly schedule at the given day of the week (1:sunday, 2:monday, ..., 7:saturday) at hh:mm</li>
        <li>'M' dd hh mm : monthly schedule at the given day of the month at hh:mm</li>
        <li>'h' mm : hourly schedule at the given minute</li>
        <li>'m' : scheduled every minute (for completness :-))</li>
 </ul>
 <p><i>Where: hh = integer between 0 and 23, mm = integer between 0 and 59, dd (for 'W') = integer between 1 and 7 (1:sunday, 2:monday, ..., 7:saturday),
 dd (for 'M') = integer between 1 and 31.</i></p>
 
 <p><i><b>Warning:</b>
        The frequency type is case sensitive! Then you should particularly pay attention at the case
        when using the frequency types 'M' (monthly) and 'm' (every minute).
 </i></p>
 
 <p>
        Parsing errors are not thrown but "resolved" silently. The "solution" depends of the error.
        2 cases of errors are considered:
 </p>
 <ul>
        <li><b>Frequency type mismatch:</b> It happens when the first character is not one of the expected (D, W, M, h, m).
                                            That means: bad case (i.e. 'd' rather than 'D'), another character.
                                            In this case, the frequency will be: <b>daily at 00:00</b>.</li>
 
        <li><b>Parameter(s) missing or incorrect:</b> With the "daily" frequency ('D'), at least 2 parameters must be provided ;
                                                     3 for "weekly" ('W') and "monthly" ('M') ; only 1 for "hourly" ('h') ; none for "every minute" ('m').
                                                     This number of parameters is a minimum: only the n first parameters will be considered while
                                                     the others will be ignored.
                                                     If this minimum number of parameters is not respected or if a parameter value is incorrect,
                                                     <b>all parameters will be set to their default value</b>
                                                     (which is 0 for all parameter except dd for which it is 1).</li>
 </ul>
 
 <p>Examples:</p>
 <ul>
        <li><i>"" or NULL</i> = every day at 00:00</li>
        <li><i>"D 06 30" or "D 6 30"</i> = every day at 06:30</li>
        <li><i>"D 24 30"</i> = every day at 00:00, because hh must respect the rule: 0 &le; hh &le; 23</li>
        <li><i>"d 06 30" or "T 06 30"</i> = every day at 00:00, because the frequency type "d" (lower case of "D") or "T" do not exist</li>
        <li><i>"W 2 6 30"</i> = every week on Tuesday at 06:30</li>
        <li><i>"W 8 06 30"</i> = every week on Sunday at 00:00, because with 'W' dd must respect the rule: 1 &le; dd &le; 7</li>
        <li><i>"M 2 6 30"</i> = every month on the 2nd at 06:30</li>
        <li><i>"M 32 6 30"</i> = every month on the 1st at 00:00, because with 'M' dd must respect the rule: 1 &le; dd &le; 31</li>
        <li><i>"M 5 6 30 12"</i> = every month on the 5th at 06:30, because at least 3 parameters are expected and so considered: "12" and eventual other parameters are ignored</li>
 </ul>
 
 <h3>Computing next event date</h3>
 
 <p>
        When this class is initialized with a frequency, it is able to compute the date of the event following a given date.
        The functions <a href="../../../uws/service/file/EventFrequency.html#nextEvent()"><code>nextEvent()</code></a> and <a href="../../../uws/service/file/EventFrequency.html#nextEvent(java.util.Date)"><code>nextEvent(Date)</code></a> will compute this next event date
        from, respectively, now (current date/time) and the given date (the date of the last event). Both are computing the date of the next
        event by "adding" the frequency to the given date. And finally, the computed date is stored and returned.
 </p>
 
 <p>Then, you have 2 possibilities to trigger the desired event:</p>
 <ul>
        <li>By calling <a href="../../../uws/service/file/EventFrequency.html#isTimeElapsed()"><code>isTimeElapsed()</code></a>, you can test whether at the current moment the date of the next event has been reached or not.
            In function of the value returned by this function you will be then able to process the desired action or not.</li>
        <li>By creating a Timer with the next date event. Thus, the desired action will be automatically triggered at the exact moment.</li>
 </p></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>4.1</dd>
<dt><span class="strong">Version:</span></dt>
  <dd>4.1 (02/2015)</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Marc Wenger (CDS), Gr&eacute;gory Mantelet (ARI)</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../uws/service/file/EventFrequency.html#EventFrequency(java.lang.String)">EventFrequency</a></strong>(java.lang.String&nbsp;interval)</code>
<div class="block">Create a new event frequency.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../uws/service/file/EventFrequency.html#getEventID()">getEventID</a></strong>()</code>
<div class="block">Get a string which identity the period between the last event and the next one (whose the date has been computed by this object).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Date</code></td>
<td class="colLast"><code><strong><a href="../../../uws/service/file/EventFrequency.html#getNextEvent()">getNextEvent</a></strong>()</code>
<div class="block">Get the date of the next event.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../uws/service/file/EventFrequency.html#isTimeElapsed()">isTimeElapsed</a></strong>()</code>
<div class="block">Tell whether the interval between the last event and now is greater or equals to the frequency represented by this object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Date</code></td>
<td class="colLast"><code><strong><a href="../../../uws/service/file/EventFrequency.html#nextEvent()">nextEvent</a></strong>()</code>
<div class="block">Compute the date of the event, by adding the interval represented by this object to the current date/time.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Date</code></td>
<td class="colLast"><code><strong><a href="../../../uws/service/file/EventFrequency.html#nextEvent(java.util.Date)">nextEvent</a></strong>(java.util.Date&nbsp;lastEventDate)</code>
<div class="block">Compute the date of the event, by adding the interval represented by this object to the given date/time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../uws/service/file/EventFrequency.html#toString()">toString</a></strong>()</code>
<div class="block">Display in a human readable way the frequency represented by this object.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EventFrequency(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EventFrequency</h4>
<pre>public&nbsp;EventFrequency(java.lang.String&nbsp;interval)</pre>
<div class="block"><p>Create a new event frequency.</p>
 
 <p>The frequency string must respect the following syntax:</p>
 <ul>
        <li>'D' hh mm : daily schedule at hh:mm</li>
        <li>'W' dd hh mm : weekly schedule at the given day of the week (1:sunday, 2:monday, ..., 7:saturday) at hh:mm</li>
        <li>'M' dd hh mm : monthly schedule at the given day of the month at hh:mm</li>
        <li>'h' mm : hourly schedule at the given minute</li>
        <li>'m' : scheduled every minute (for completness :-))</li>
 </ul>
 <p><i>Where: hh = integer between 0 and 23, mm = integer between 0 and 59, dd (for 'W') = integer between 1 and 7 (1:sunday, 2:monday, ..., 7:saturday),
 dd (for 'M') = integer between 1 and 31.</i></p>
 
 <p><i><b>Warning:</b>
        The frequency type is case sensitive! Then you should particularly pay attention at the case
        when using the frequency types 'M' (monthly) and 'm' (every minute).
 </i></p>
 
 <p>
        Parsing errors are not thrown but "resolved" silently. The "solution" depends of the error.
        2 cases of errors are considered:
 </p>
 <ul>
        <li><b>Frequency type mismatch:</b> It happens when the first character is not one of the expected (D, W, M, h, m).
                                            That means: bad case (i.e. 'd' rather than 'D'), another character.
                                            In this case, the frequency will be: <b>daily at 00:00</b>.</li>
 
        <li><b>Parameter(s) missing or incorrect:</b> With the "daily" frequency ('D'), at least 2 parameters must be provided ;
                                                     3 for "weekly" ('W') and "monthly" ('M') ; only 1 for "hourly" ('h') ; none for "every minute" ('m').
                                                     This number of parameters is a minimum: only the n first parameters will be considered while
                                                     the others will be ignored.
                                                     If this minimum number of parameters is not respected or if a parameter value is incorrect,
                                                     <b>all parameters will be set to their default value</b>
                                                     (which is 0 for all parameter except dd for which it is 1).</li>
 </ul>
 
 <p>Examples:</p>
 <ul>
        <li><i>"" or NULL</i> = every day at 00:00</li>
        <li><i>"D 06 30" or "D 6 30"</i> = every day at 06:30</li>
        <li><i>"D 24 30"</i> = every day at 00:00, because hh must respect the rule: 0 &le; hh &le; 23</li>
        <li><i>"d 06 30" or "T 06 30"</i> = every day at 00:00, because the frequency type "d" (lower case of "D") or "T" do not exist</li>
        <li><i>"W 2 6 30"</i> = every week on Tuesday at 06:30</li>
        <li><i>"W 8 06 30"</i> = every week on Sunday at 00:00, because with 'W' dd must respect the rule: 1 &le; dd &le; 7</li>
        <li><i>"M 2 6 30"</i> = every month on the 2nd at 06:30</li>
        <li><i>"M 32 6 30"</i> = every month on the 1st at 00:00, because with 'M' dd must respect the rule: 1 &le; dd &le; 31</li>
        <li><i>"M 5 6 30 12"</i> = every month on the 5th at 06:30, because at least 3 parameters are expected and so considered: "12" and eventual other parameters are ignored</li>
 </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>interval</code> - A string defining the event frequency (see above for the string format).</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isTimeElapsed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTimeElapsed</h4>
<pre>public&nbsp;boolean&nbsp;isTimeElapsed()</pre>
<div class="block">Tell whether the interval between the last event and now is greater or equals to the frequency represented by this object.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><i>true</i> if the next event date has been reached, <i>false</i> otherwise.</dd></dl>
</li>
</ul>
<a name="getNextEvent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextEvent</h4>
<pre>public&nbsp;java.util.Date&nbsp;getNextEvent()</pre>
<div class="block">Get the date of the next event.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Date of the next event, or NULL if no date has yet been computed.</dd></dl>
</li>
</ul>
<a name="getEventID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEventID</h4>
<pre>public&nbsp;java.lang.String&nbsp;getEventID()</pre>
<div class="block"><p>Get a string which identity the period between the last event and the next one (whose the date has been computed by this object).</p>
 
 <p>This ID is built by formatting in string the given date of the last event.</p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>ID of the period before the next event.</dd></dl>
</li>
</ul>
<a name="nextEvent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextEvent</h4>
<pre>public&nbsp;java.util.Date&nbsp;nextEvent()</pre>
<div class="block"><p>Compute the date of the event, by adding the interval represented by this object to the current date/time.</p>
        
 <p>
        The role of this function is to compute the next event date, not to get it. After computation, you can get this date
        thanks to <a href="../../../uws/service/file/EventFrequency.html#getNextEvent()"><code>getNextEvent()</code></a>. Furthermore, using <a href="../../../uws/service/file/EventFrequency.html#isTimeElapsed()"><code>isTimeElapsed()</code></a> after having called this function will
        let you test whether the next event should (have) occur(red).
 </p>
 
 <p><i>Note:
        This function computes the next event date by taking the current date as the date of the last event. However,
        if the last event occurred at a different date, you should use <a href="../../../uws/service/file/EventFrequency.html#nextEvent(java.util.Date)"><code>nextEvent(Date)</code></a>.
 </i></p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Date at which the next event should occur. (basically, it is: NOW + frequency)</dd></dl>
</li>
</ul>
<a name="nextEvent(java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextEvent</h4>
<pre>public&nbsp;java.util.Date&nbsp;nextEvent(java.util.Date&nbsp;lastEventDate)</pre>
<div class="block"><p>Compute the date of the event, by adding the interval represented by this object to the given date/time.</p>
        
 <p>
        The role of this function is to compute the next event date, not to get it. After computation, you can get this date
        thanks to <a href="../../../uws/service/file/EventFrequency.html#getNextEvent()"><code>getNextEvent()</code></a>. Furthermore, using <a href="../../../uws/service/file/EventFrequency.html#isTimeElapsed()"><code>isTimeElapsed()</code></a> after having called this function will
        let you test whether the next event should (have) occur(red).
 </p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Date at which the next event should occur. (basically, it is lastEventDate + frequency)</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Display in a human readable way the frequency represented by this object.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>a string, i.e. weekly on Sunday at HH:MM</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EventFrequency.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../uws/service/file/DefaultOwnerGroupIdentifier.html" title="class in uws.service.file"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../uws/service/file/LocalUWSFileManager.html" title="class in uws.service.file"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?uws/service/file/EventFrequency.html" target="_top">Frames</a></li>
<li><a href="EventFrequency.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
