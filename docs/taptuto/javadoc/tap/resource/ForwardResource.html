<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_95) on Fri Jan 29 20:29:45 CET 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>ForwardResource</title>
<meta name="date" content="2016-01-29">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ForwardResource";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ForwardResource.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../tap/resource/Examples.html" title="class in tap.resource"><span class="strong">Prev Class</span></a></li>
<li><a href="../../tap/resource/HomePage.html" title="class in tap.resource"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?tap/resource/ForwardResource.html" target="_top">Frames</a></li>
<li><a href="ForwardResource.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">tap.resource</div>
<h2 title="Class ForwardResource" class="title">Class ForwardResource</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>tap.resource.ForwardResource</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../tap/resource/TAPResource.html" title="interface in tap.resource">TAPResource</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../tap/resource/Examples.html" title="class in tap.resource">Examples</a>, <a href="../../tap/resource/HomePage.html" title="class in tap.resource">HomePage</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">ForwardResource</span>
extends java.lang.Object
implements <a href="../../tap/resource/TAPResource.html" title="interface in tap.resource">TAPResource</a></pre>
<div class="block"><p>A <a href="../../tap/resource/TAPResource.html" title="interface in tap.resource"><code>TAPResource</code></a> which is able to "forward" an HTTP request toward a specified URI.</p>
 
 <p>
        In function of the URI shape (i.e. what is the scheme? none/file:/other) and the servlet path,
        the HTTP request will be internally forwarded to the Web Application file (using
        <code>RequestDispatcher.forward(javax.servlet.ServletRequest, javax.servlet.ServletResponse)</code>),
        the content of the specified file will be copied in the HTTP response or a redirection toward
        the given URL will be performed.
 </p>
 
 <p><i>See <a href="../../tap/resource/ForwardResource.html#forward(java.lang.String,%20java.lang.String,%20javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse)"><code>forward(String, String, HttpServletRequest, HttpServletResponse)</code></a> for more details</i></p></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2.1</dd>
<dt><span class="strong">Version:</span></dt>
  <dd>2.1 (11/2015)</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Gr&eacute;gory Mantelet (ARI)</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../tap/log/TAPLog.html" title="interface in tap.log">TAPLog</a></code></td>
<td class="colLast"><code><strong><a href="../../tap/resource/ForwardResource.html#logger">logger</a></strong></code>
<div class="block">Logger that <a href="../../tap/resource/ForwardResource.html#forward(java.lang.String,%20java.lang.String,%20javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse)"><code>forward(String, String, HttpServletRequest, HttpServletResponse)</code></a> must use
 in case of not grave error (e.g.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../tap/resource/ForwardResource.html#ForwardResource(tap.log.TAPLog)">ForwardResource</a></strong>(<a href="../../tap/log/TAPLog.html" title="interface in tap.log">TAPLog</a>&nbsp;logger)</code>
<div class="block">Builds a <a href="../../tap/resource/ForwardResource.html" title="class in tap.resource"><code>ForwardResource</code></a> with a logger to use in case of "small" errors.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../tap/resource/ForwardResource.html#forward(java.lang.String,%20java.lang.String,%20javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse)">forward</a></strong>(java.lang.String&nbsp;file,
       java.lang.String&nbsp;mimeType,
       javax.servlet.http.HttpServletRequest&nbsp;request,
       javax.servlet.http.HttpServletResponse&nbsp;response)</code>
<div class="block">Write the content of the specified file in the given HTTP response.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../tap/resource/ForwardResource.html#logError(java.lang.String,%20java.lang.Throwable,%20java.lang.String)">logError</a></strong>(java.lang.String&nbsp;message,
        java.lang.Throwable&nbsp;error,
        java.lang.String&nbsp;file)</code>
<div class="block">Log the given error as a TAP log message with the <a href="../../uws/service/log/UWSLog.LogLevel.html" title="enum in uws.service.log"><code>UWSLog.LogLevel</code></a> ERROR, and the event corresponding to the resource name.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_tap.resource.TAPResource">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;tap.resource.<a href="../../tap/resource/TAPResource.html" title="interface in tap.resource">TAPResource</a></h3>
<code><a href="../../tap/resource/TAPResource.html#destroy()">destroy</a>, <a href="../../tap/resource/TAPResource.html#executeResource(javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse)">executeResource</a>, <a href="../../tap/resource/TAPResource.html#getName()">getName</a>, <a href="../../tap/resource/TAPResource.html#init(javax.servlet.ServletConfig)">init</a>, <a href="../../tap/resource/TAPResource.html#setTAPBaseURL(java.lang.String)">setTAPBaseURL</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logger</h4>
<pre>protected final&nbsp;<a href="../../tap/log/TAPLog.html" title="interface in tap.log">TAPLog</a> logger</pre>
<div class="block">Logger that <a href="../../tap/resource/ForwardResource.html#forward(java.lang.String,%20java.lang.String,%20javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse)"><code>forward(String, String, HttpServletRequest, HttpServletResponse)</code></a> must use
 in case of not grave error (e.g. the specified Web Application file can not be found).</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ForwardResource(tap.log.TAPLog)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ForwardResource</h4>
<pre>protected&nbsp;ForwardResource(<a href="../../tap/log/TAPLog.html" title="interface in tap.log">TAPLog</a>&nbsp;logger)</pre>
<div class="block">Builds a <a href="../../tap/resource/ForwardResource.html" title="class in tap.resource"><code>ForwardResource</code></a> with a logger to use in case of "small" errors.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>logger</code> - A TAP logger.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="forward(java.lang.String, java.lang.String, javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forward</h4>
<pre>public final&nbsp;boolean&nbsp;forward(java.lang.String&nbsp;file,
              java.lang.String&nbsp;mimeType,
              javax.servlet.http.HttpServletRequest&nbsp;request,
              javax.servlet.http.HttpServletResponse&nbsp;response)
                      throws java.io.IOException</pre>
<div class="block"><p>Write the content of the specified file in the given HTTP response.</p>
 
 <p>Three cases are taken into account in this function, in function of the given URI:</p>
 <ol>
        <li><b>a file inside WebContent</b> if the given URI has no scheme (e.g. "tapIndex.jsp" or "/myFiles/tapIndex.html").
                                            The URI is then an absolute (if starting with "/") or a relative path to file inside the WebContent directory.
                                            In this case the request is forwarded to this file. It is neither a redirection nor a copy,
                                            but a kind of inclusion of the interpreted file into the response.
                                      <i>This method MUST be used if your page/content is a JSP.</i></li>
 <li><b>a local file</b> if a URI starts with "file:". In this case, the content of the local file is copied in the HTTP response. There is no interpretation. So this method should not be used for JSP.</li>  
 <li><b>a distance document</b> in all other cases. Indeed, if there is a scheme different from "file:" the given URI will be considered as a URL.
                                In this case, any request to the TAP home page is redirected to this URL.</li>
 </ol>
 
 <p><b>Important note:</b>
        The 1st option is applied ONLY IF the path of the TAP servlet is NOT the root path of the web application:
        that's to say <code>/*</code>. In the case where a URI without scheme is provided though the servlet path
        is <code>/*</code>, this function will resolve the full path on the local file system and apply the 
        2nd option: write the file content directly in the response. Note that will work only in cases where the
        specified file is not a JSP or does not need any kind of interpretation by the function
        <code>RequestDispatcher.forward(javax.servlet.ServletRequest, javax.servlet.ServletResponse)</code>.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>file</code> - URI/URL/path of the file to write/forward/redirect in the given HTTP response.</dd><dd><code>mimeType</code> - MIME type of the specified file.</dd><dd><code>request</code> - HTTP request which require the specified file.</dd><dd><code>response</code> - HTTP response in which the specified file must be written/forwarded/redirected.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the forward/redirection was successful, <code>false</code> otherwise.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - When an error occur while forwarding toward the specified Web application resource,
                                                or while writing the specified local file
                                                or while redirection toward the specified URL
                                                or when the HTTP connection has been aborted.</dd>
<dd><code>java.lang.IllegalStateException</code> - If an attempt of resetting the buffer fails.</dd></dl>
</li>
</ul>
<a name="logError(java.lang.String, java.lang.Throwable, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logError</h4>
<pre>protected&nbsp;void&nbsp;logError(java.lang.String&nbsp;message,
            java.lang.Throwable&nbsp;error,
            java.lang.String&nbsp;file)</pre>
<div class="block"><p>Log the given error as a TAP log message with the <a href="../../uws/service/log/UWSLog.LogLevel.html" title="enum in uws.service.log"><code>UWSLog.LogLevel</code></a> ERROR, and the event corresponding to the resource name.</p>
 
 <p>
        The logged message starts with: <code>Can not write the specified content ({file})</code>.
        After the specified error message, the following is appended: <code>! => A default content may be displayed.</code>.
 </p>
 
 <p>
        If the message parameter is missing, the <code>Throwable</code> message will be taken instead.
        And if this latter is also missing, none will be written.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>message</code> - Error message to log.</dd><dd><code>error</code> - The exception at the origin of the error.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ForwardResource.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../tap/resource/Examples.html" title="class in tap.resource"><span class="strong">Prev Class</span></a></li>
<li><a href="../../tap/resource/HomePage.html" title="class in tap.resource"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?tap/resource/ForwardResource.html" target="_top">Frames</a></li>
<li><a href="ForwardResource.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
