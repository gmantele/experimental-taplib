<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_95) on Fri Jan 29 20:29:46 CET 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>FormEncodedParser</title>
<meta name="date" content="2016-01-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FormEncodedParser";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FormEncodedParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../uws/service/request/MultipartParser.html" title="class in uws.service.request"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?uws/service/request/FormEncodedParser.html" target="_top">Frames</a></li>
<li><a href="FormEncodedParser.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">uws.service.request</div>
<h2 title="Class FormEncodedParser" class="title">Class FormEncodedParser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>uws.service.request.FormEncodedParser</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../uws/service/request/RequestParser.html" title="interface in uws.service.request">RequestParser</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">FormEncodedParser</span>
extends java.lang.Object
implements <a href="../../../uws/service/request/RequestParser.html" title="interface in uws.service.request">RequestParser</a></pre>
<div class="block"><p>Extract parameters encoded using the HTTP-GET method or the Content-type application/x-www-form-urlencoded
 with the HTTP-POST or HTTP-PUT method in an <code>HttpServletRequest</code>.</p>
 
 <p>
        By default, this <a href="../../../uws/service/request/RequestParser.html" title="interface in uws.service.request"><code>RequestParser</code></a> overwrite parameter occurrences in the map: that's to say if a parameter is provided several times,
        only the last value will be kept. This behavior can be changed by overwriting the function <a href="../../../uws/service/request/FormEncodedParser.html#consumeParameter(java.lang.String,%20java.lang.Object,%20java.util.Map)"><code>consumeParameter(String, Object, Map)</code></a>
        of this class.
 </p>
 
 <p><i>Note:
        When HTTP-POST is used, these parameters are actually already extracted by the server application (like Apache/Tomcat)
        and are available with <code>ServletRequest.getParameterMap()</code>.
        However, when using HTTP-PUT, the parameters are extracted manually from the request content.
 </i></p></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>4.1</dd>
<dt><span class="strong">Version:</span></dt>
  <dd>4.2 (07/2015)</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Gr&eacute;gory Mantelet (ARI)</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../uws/service/request/FormEncodedParser.html#EXPECTED_CONTENT_TYPE">EXPECTED_CONTENT_TYPE</a></strong></code>
<div class="block">HTTP content-type for HTTP request formated in url-form-encoded.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../uws/service/request/FormEncodedParser.html#FormEncodedParser()">FormEncodedParser</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../uws/service/request/FormEncodedParser.html#consumeParameter(java.lang.String,%20java.lang.Object,%20java.util.Map)">consumeParameter</a></strong>(java.lang.String&nbsp;name,
                java.lang.Object&nbsp;value,
                java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;allParams)</code>
<div class="block">Consume the specified parameter: add it inside the given map.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../uws/service/request/FormEncodedParser.html#isFormEncodedRequest(javax.servlet.http.HttpServletRequest)">isFormEncodedRequest</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;request)</code>
<div class="block">Utility method that determines whether the content of the given request is a application/x-www-form-urlencoded.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.Object&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../uws/service/request/FormEncodedParser.html#parse(javax.servlet.http.HttpServletRequest)">parse</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;request)</code>
<div class="block">Extract parameters from the given HTTP request.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="EXPECTED_CONTENT_TYPE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EXPECTED_CONTENT_TYPE</h4>
<pre>public static final&nbsp;java.lang.String EXPECTED_CONTENT_TYPE</pre>
<div class="block">HTTP content-type for HTTP request formated in url-form-encoded.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#uws.service.request.FormEncodedParser.EXPECTED_CONTENT_TYPE">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FormEncodedParser()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FormEncodedParser</h4>
<pre>public&nbsp;FormEncodedParser()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="parse(javax.servlet.http.HttpServletRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parse</h4>
<pre>public final&nbsp;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;parse(javax.servlet.http.HttpServletRequest&nbsp;request)
                                                             throws <a href="../../../uws/UWSException.html" title="class in uws">UWSException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../uws/service/request/RequestParser.html#parse(javax.servlet.http.HttpServletRequest)">RequestParser</a></code></strong></div>
<div class="block"><p>Extract parameters from the given HTTP request.</p>
 
 <p>
        These parameters can be fetched from <code>ServletRequest.getParameterMap()</code>
        or directly from the full request content. In this last case, a parsing is necessary ;
        hence this function.
 </p>
 
 <p>
        In case a parameter is provided several times with the same time and the same case,
        the request parser can choose to keep only the last occurrence or all occurrences.
        If all occurrences are kept, this function MUST return an array of <code>Object</code>s
        (in which types may be mixed), otherwise a map value MUST be an elementary object.
 </p>
 
 <p><i>Note:
        A parameter item can be a simple value (e.g. String, integer, ...)
        or a more complex object (e.g. File, InputStream, ...).
 </i></p>
 
 <p><b>IMPORTANT:</b>
        This function MUST NOT be used to check the parameters' value.
        It only aims to parse the given request in order to extract its embedded parameters.
        <br/>
        <b>Consequently, if this function throws an exception, it could be only because the request
        can not be read, and not because a parameter format or value is incorrect.</b>
        <br/>
        Parameter checks should be done in <a href="../../../uws/job/parameters/UWSParameters.html" title="class in uws.job.parameters"><code>UWSParameters</code></a> and more particularly by
        an <a href="../../../uws/job/parameters/InputParamController.html" title="interface in uws.job.parameters"><code>InputParamController</code></a>.
 </b></p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../uws/service/request/RequestParser.html#parse(javax.servlet.http.HttpServletRequest)">parse</a></code>&nbsp;in interface&nbsp;<code><a href="../../../uws/service/request/RequestParser.html" title="interface in uws.service.request">RequestParser</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - An HTTP request.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A map listing all extracted parameters. Values are either an elementary object (whatever is the type),
                or an array of <code>Object</code>s (in which types can be mixed).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../uws/UWSException.html" title="class in uws">UWSException</a></code> - If any error provides this function to read the parameters.</dd></dl>
</li>
</ul>
<a name="consumeParameter(java.lang.String, java.lang.Object, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>consumeParameter</h4>
<pre>protected&nbsp;void&nbsp;consumeParameter(java.lang.String&nbsp;name,
                    java.lang.Object&nbsp;value,
                    java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;allParams)</pre>
<div class="block"><p>Consume the specified parameter: add it inside the given map.</p>
 
 <p>
        By default, this function is just putting the given value inside the map. So, if the parameter already exists in the map,
        its old value will be overwritten by the given one.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - Name of the parameter to consume.</dd><dd><code>value</code> - Its value.</dd><dd><code>allParams</code> - The list of all parameters read until now.</dd></dl>
</li>
</ul>
<a name="isFormEncodedRequest(javax.servlet.http.HttpServletRequest)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isFormEncodedRequest</h4>
<pre>public static final&nbsp;boolean&nbsp;isFormEncodedRequest(javax.servlet.http.HttpServletRequest&nbsp;request)</pre>
<div class="block"><p>Utility method that determines whether the content of the given request is a application/x-www-form-urlencoded.</p>
 
 <p><i>Important:
        This function just test the content-type of the request. The HTTP method (e.g. GET, POST, ...) is not tested.
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - The servlet request to be evaluated. Must be non-null.</dd>
<dt><span class="strong">Returns:</span></dt><dd><i>true</i> if the request is url-form-encoded,
                <i>false</i> otherwise.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FormEncodedParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../uws/service/request/MultipartParser.html" title="class in uws.service.request"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?uws/service/request/FormEncodedParser.html" target="_top">Frames</a></li>
<li><a href="FormEncodedParser.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
