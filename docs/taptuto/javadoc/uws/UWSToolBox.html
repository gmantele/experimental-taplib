<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_95) on Fri Jan 29 20:29:45 CET 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>UWSToolBox</title>
<meta name="date" content="2016-01-29">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UWSToolBox";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UWSToolBox.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../uws/UWSExceptionFactory.html" title="class in uws"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?uws/UWSToolBox.html" target="_top">Frames</a></li>
<li><a href="UWSToolBox.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">uws</div>
<h2 title="Class UWSToolBox" class="title">Class UWSToolBox</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>uws.UWSToolBox</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">UWSToolBox</span>
extends java.lang.Object</pre>
<div class="block">Some useful functions for the managing of a UWS service.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>4.2 (07/2015)</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Gr&eacute;gory Mantelet (CDS;ARI)</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#DEFAULT_CHAR_ENCODING">DEFAULT_CHAR_ENCODING</a></strong></code>
<div class="block">Default character encoding for all HTTP response sent by this library.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.lang.String[]</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#fileExts">fileExts</a></strong></code>
<div class="block">List of file extensions whose the MIME type is known (see <a href="../uws/UWSToolBox.html#mimeTypes"><code>mimeTypes</code></a>).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.String[]</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#mimeTypes">mimeTypes</a></strong></code>
<div class="block">List of known MIME types (see <a href="../uws/UWSToolBox.html#fileExts"><code>fileExts</code></a>).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.Map&lt;java.lang.String,java.lang.Object&gt;</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#addGETParameters(javax.servlet.http.HttpServletRequest,%20java.util.Map)">addGETParameters</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;req,
                java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;parameters)</code>
<div class="block">Extract only the GET parameters from the given HTTP request and add them inside the given map.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#clearDirectory(java.io.File)">clearDirectory</a></strong>(java.io.File&nbsp;directory)</code>
<div class="block">Empties the specified directory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#clearDirectory(java.lang.String)">clearDirectory</a></strong>(java.lang.String&nbsp;directoryPath)</code>
<div class="block">Empties the specified directory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#deleteUploads(javax.servlet.http.HttpServletRequest)">deleteUploads</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;req)</code>
<div class="block">Delete all unused uploaded files of the given request.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#flush(java.io.PrintWriter)">flush</a></strong>(java.io.PrintWriter&nbsp;writer)</code>
<div class="block">Flush the buffer of the given <code>PrintWriter</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../uws/service/log/UWSLog.html" title="interface in uws.service.log">UWSLog</a></code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#getDefaultLogger()">getDefaultLogger</a></strong>()</code>
<div class="block">Gets the default <a href="../uws/service/log/UWSLog.html" title="interface in uws.service.log"><code>UWSLog</code></a> instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#getFileExtension(java.lang.String)">getFileExtension</a></strong>(java.lang.String&nbsp;mimeType)</code>
<div class="block">Gets the file extension corresponding to the given MIME type.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#getMimeType(java.lang.String)">getMimeType</a></strong>(java.lang.String&nbsp;fileExtension)</code>
<div class="block">Gets the MIME type corresponding to the given file extension.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#getNbParameters(javax.servlet.http.HttpServletRequest)">getNbParameters</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;request)</code>
<div class="block">Get the number of parameters submitted in the given HTTP request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#getParameter(java.lang.String,%20javax.servlet.http.HttpServletRequest,%20boolean)">getParameter</a></strong>(java.lang.String&nbsp;name,
            javax.servlet.http.HttpServletRequest&nbsp;request,
            boolean&nbsp;caseSensitive)</code>
<div class="block">Get the parameter specified by the given name from the given HTTP request.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.Map&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#getParameters(java.lang.String)">getParameters</a></strong>(java.lang.String&nbsp;queryPart)</code>
<div class="block">Converts the given query part of a HTTP-GET URL to a map of parameters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.HashMap&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#getParamsMap(javax.servlet.http.HttpServletRequest)">getParamsMap</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;req)</code>
<div class="block">Builds a map of strings with all parameters of the given HTTP request.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#getQueryPart(java.util.Map)">getQueryPart</a></strong>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;parameters)</code>
<div class="block">Converts map of UWS parameters into a string corresponding to the query part of a HTTP-GET URL (i.e.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.net.URL</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#getServerResource(java.lang.String,%20javax.servlet.http.HttpServletRequest)">getServerResource</a></strong>(java.lang.String&nbsp;serverPath,
                 javax.servlet.http.HttpServletRequest&nbsp;req)</code>
<div class="block">Lets building the absolute URL of any resource available in the root server, from a relative URL.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../uws/job/user/JobOwner.html" title="interface in uws.job.user">JobOwner</a></code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#getUser(javax.servlet.http.HttpServletRequest,%20uws.service.UserIdentifier)">getUser</a></strong>(javax.servlet.http.HttpServletRequest&nbsp;request,
       <a href="../uws/service/UserIdentifier.html" title="interface in uws.service">UserIdentifier</a>&nbsp;userIdentifier)</code>
<div class="block">Extract the user/job owner from the given HTTP request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#hasParameter(java.lang.String,%20javax.servlet.http.HttpServletRequest,%20boolean)">hasParameter</a></strong>(java.lang.String&nbsp;name,
            javax.servlet.http.HttpServletRequest&nbsp;request,
            boolean&nbsp;caseSensitive)</code>
<div class="block">Check whether a parameter has been submitted with the given name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#hasParameter(java.lang.String,%20java.lang.String,%20javax.servlet.http.HttpServletRequest,%20boolean)">hasParameter</a></strong>(java.lang.String&nbsp;name,
            java.lang.String&nbsp;value,
            javax.servlet.http.HttpServletRequest&nbsp;request,
            boolean&nbsp;caseSensitive)</code>
<div class="block">Check whether the parameter specified with the given pair (name,value) exists in the given HTTP request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#printStackTrace(java.lang.Throwable,%20java.io.PrintWriter)">printStackTrace</a></strong>(java.lang.Throwable&nbsp;ex,
               java.io.PrintWriter&nbsp;pw)</code>
<div class="block">Prints the full stack trace of the given exception in the given writer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#printURL(uws.service.UWSUrl)">printURL</a></strong>(<a href="../uws/service/UWSUrl.html" title="class in uws.service">UWSUrl</a>&nbsp;url)</code>
<div class="block">Displays all the fields of the given UWSUrl.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#printURL(uws.service.UWSUrl,%20java.io.OutputStream)">printURL</a></strong>(<a href="../uws/service/UWSUrl.html" title="class in uws.service">UWSUrl</a>&nbsp;url,
        java.io.OutputStream&nbsp;output)</code>
<div class="block">Displays all the fields of the given UWSUrl in the given output stream.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#write(java.io.InputStream,%20java.lang.String,%20long,%20javax.servlet.http.HttpServletResponse)">write</a></strong>(java.io.InputStream&nbsp;input,
     java.lang.String&nbsp;mimeType,
     long&nbsp;contentSize,
     javax.servlet.http.HttpServletResponse&nbsp;response)</code>
<div class="block">Copies the content of the given input stream in the given HTTP response.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../uws/UWSToolBox.html#writeErrorFile(java.lang.Exception,%20uws.job.ErrorSummary,%20uws.job.UWSJob,%20java.io.OutputStream)">writeErrorFile</a></strong>(java.lang.Exception&nbsp;ex,
              <a href="../uws/job/ErrorSummary.html" title="class in uws.job">ErrorSummary</a>&nbsp;error,
              <a href="../uws/job/UWSJob.html" title="class in uws.job">UWSJob</a>&nbsp;job,
              java.io.OutputStream&nbsp;output)</code>
<div class="block">Writes the stack trace of the given exception in the file whose the name and the parent directory are given in parameters.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_CHAR_ENCODING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_CHAR_ENCODING</h4>
<pre>public static final&nbsp;java.lang.String DEFAULT_CHAR_ENCODING</pre>
<div class="block">Default character encoding for all HTTP response sent by this library.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>4.1</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#uws.UWSToolBox.DEFAULT_CHAR_ENCODING">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="fileExts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fileExts</h4>
<pre>protected static final&nbsp;java.lang.String[] fileExts</pre>
<div class="block">List of file extensions whose the MIME type is known (see <a href="../uws/UWSToolBox.html#mimeTypes"><code>mimeTypes</code></a>).</div>
</li>
</ul>
<a name="mimeTypes">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mimeTypes</h4>
<pre>protected static final&nbsp;java.lang.String[] mimeTypes</pre>
<div class="block">List of known MIME types (see <a href="../uws/UWSToolBox.html#fileExts"><code>fileExts</code></a>).</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getServerResource(java.lang.String, javax.servlet.http.HttpServletRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServerResource</h4>
<pre>public static final&nbsp;java.net.URL&nbsp;getServerResource(java.lang.String&nbsp;serverPath,
                             javax.servlet.http.HttpServletRequest&nbsp;req)</pre>
<div class="block"><p>Lets building the absolute URL of any resource available in the root server, from a relative URL.</p>
 <p>For instance, if the server URL is http://foo.org/uwstuto (and whatever is the current URL):</p>
 <ul>
        <li><i>if you want the URL of the html page "basic.html" of the root directory:</i> servletPath=<b>"/basic.html"</b> => returned URL=<b>http://foo.org/uwstuto/basic.html</b></li>
        <li><i>if you want the URL of the image "ivoa.png" contained into the directory "images":</i> servletPath=<b>"/images/ivoa.png"</b> => returned URL=<b>"http://foo.org/uwstuto/images/ivoa.png"</b></li>
 </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serverPath</code> - The relative path to access a server resource.</dd><dd><code>req</code> - A request of the servlet.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The absolute URL to access the desired server resource
                                                or <i>null</i> if one of the parameter is <i>null</i> or if a well-formed URL can not be built.</dd><dt><span class="strong">See Also:</span></dt><dd><code>HttpServletRequest.getRequestURL()</code>, 
<code>HttpServletRequest.getContextPath()</code>, 
<code>URL.URL(String)</code></dd></dl>
</li>
</ul>
<a name="getDefaultLogger()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultLogger</h4>
<pre>public static final&nbsp;<a href="../uws/service/log/UWSLog.html" title="interface in uws.service.log">UWSLog</a>&nbsp;getDefaultLogger()</pre>
<div class="block">Gets the default <a href="../uws/service/log/UWSLog.html" title="interface in uws.service.log"><code>UWSLog</code></a> instance.
 Any log message will be print on the standard error output (<code>System.err</code>).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The default <a href="../uws/service/log/UWSLog.html" title="interface in uws.service.log"><code>UWSLog</code></a> instance.</dd></dl>
</li>
</ul>
<a name="getParamsMap(javax.servlet.http.HttpServletRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParamsMap</h4>
<pre>public static final&nbsp;java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;getParamsMap(javax.servlet.http.HttpServletRequest&nbsp;req)</pre>
<div class="block"><p>Builds a map of strings with all parameters of the given HTTP request.</p>
 
 <p><i>Note:
        If the request attribute <a href="../uws/service/UWS.html#REQ_ATTRIBUTE_PARAMETERS"><code>UWS.REQ_ATTRIBUTE_PARAMETERS</code></a> has been already set by the UWS library,
        this map (after conversion into a Map<String,String>) is returned.
        Otherwise, the parameters identified automatically by the Servlet are returned (just the last occurrence of each parameter is kept).
 </i></p>
 
 <p><i><b>WARNING:</b>
        This function does not extract directly the parameters from the request content. It is just returning those already extracted
        either by the Servlet or by a <a href="../uws/service/request/RequestParser.html" title="interface in uws.service.request"><code>RequestParser</code></a>.
 </i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>req</code> - The HTTP request which contains the parameters to extract.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The corresponding map of string.</dd></dl>
</li>
</ul>
<a name="getQueryPart(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueryPart</h4>
<pre>public static final&nbsp;java.lang.String&nbsp;getQueryPart(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;parameters)</pre>
<div class="block">Converts map of UWS parameters into a string corresponding to the query part of a HTTP-GET URL (i.e. ?EXECUTIONDURATION=60&DESTRUCTION=2010-09-01T13:58:00:000-0200).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>parameters</code> - A Map of parameters.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The corresponding query part of an HTTP-GET URL (all keys have been set in upper case).</dd></dl>
</li>
</ul>
<a name="getParameters(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParameters</h4>
<pre>public static final&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;getParameters(java.lang.String&nbsp;queryPart)</pre>
<div class="block">Converts the given query part of a HTTP-GET URL to a map of parameters.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>queryPart</code> - A query part of a HTTP-GET URL.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The corresponding map of parameters (all keys have been set in lower case).</dd></dl>
</li>
</ul>
<a name="addGETParameters(javax.servlet.http.HttpServletRequest, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addGETParameters</h4>
<pre>public static final&nbsp;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;addGETParameters(javax.servlet.http.HttpServletRequest&nbsp;req,
                                                                java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;parameters)</pre>
<div class="block"><p>Extract only the GET parameters from the given HTTP request and add them inside the given map.</p>
 
 <p><b>Warning</b>:
        If entries with the same key already exist in the map, they will overwritten.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>req</code> - The HTTP request whose the GET parameters must be extracted.</dd><dd><code>parameters</code> - List of parameters to update.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The same given parameters map (but updated with all found GET parameters).</dd><dt><span class="strong">Since:</span></dt>
  <dd>4.1</dd></dl>
</li>
</ul>
<a name="getNbParameters(javax.servlet.http.HttpServletRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNbParameters</h4>
<pre>public static final&nbsp;int&nbsp;getNbParameters(javax.servlet.http.HttpServletRequest&nbsp;request)</pre>
<div class="block">Get the number of parameters submitted in the given HTTP request.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - An HTTP request;</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of submitted parameters.</dd><dt><span class="strong">Since:</span></dt>
  <dd>4.1</dd></dl>
</li>
</ul>
<a name="hasParameter(java.lang.String, javax.servlet.http.HttpServletRequest, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasParameter</h4>
<pre>public static final&nbsp;boolean&nbsp;hasParameter(java.lang.String&nbsp;name,
                   javax.servlet.http.HttpServletRequest&nbsp;request,
                   boolean&nbsp;caseSensitive)</pre>
<div class="block">Check whether a parameter has been submitted with the given name.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - Name of the parameter to search. <b>The case is important!</b></dd><dd><code>request</code> - HTTP request in which the specified parameter must be searched.</dd><dd><code>caseSensitive</code> - <i>true</i> to perform the research case-sensitively,
                                <i>false</i> for a case INsensitive research.</dd>
<dt><span class="strong">Returns:</span></dt><dd><i>true</i> if the specified parameter has been found, <i>false</i> otherwise.</dd><dt><span class="strong">Since:</span></dt>
  <dd>4.1</dd></dl>
</li>
</ul>
<a name="hasParameter(java.lang.String, java.lang.String, javax.servlet.http.HttpServletRequest, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasParameter</h4>
<pre>public static final&nbsp;boolean&nbsp;hasParameter(java.lang.String&nbsp;name,
                   java.lang.String&nbsp;value,
                   javax.servlet.http.HttpServletRequest&nbsp;request,
                   boolean&nbsp;caseSensitive)</pre>
<div class="block">Check whether the parameter specified with the given pair (name,value) exists in the given HTTP request.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - Name of the parameter to search.</dd><dd><code>value</code> - Expected value of the parameter.</dd><dd><code>request</code> - HTTP request in which the given pair must be searched.</dd><dd><code>caseSensitive</code> - <i>true</i> to perform the research (on name AND value) case-sensitively,
                                <i>false</i> for a case INsensitive research.</dd>
<dt><span class="strong">Returns:</span></dt><dd><i>true</i> if the specified parameter has been found with the given value in the given HTTP request,
                <i>false</i> otherwise.</dd><dt><span class="strong">Since:</span></dt>
  <dd>4.1</dd></dl>
</li>
</ul>
<a name="getParameter(java.lang.String, javax.servlet.http.HttpServletRequest, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParameter</h4>
<pre>public static final&nbsp;java.lang.Object&nbsp;getParameter(java.lang.String&nbsp;name,
                            javax.servlet.http.HttpServletRequest&nbsp;request,
                            boolean&nbsp;caseSensitive)</pre>
<div class="block">Get the parameter specified by the given name from the given HTTP request.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - Name of the parameter to search.</dd><dd><code>request</code> - HTTP request in which the given pair must be searched.</dd><dd><code>caseSensitive</code> - <i>true</i> to perform the research case-sensitively,
                                <i>false</i> for a case INsensitive research.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Value of the parameter.</dd><dt><span class="strong">Since:</span></dt>
  <dd>4.1</dd></dl>
</li>
</ul>
<a name="deleteUploads(javax.servlet.http.HttpServletRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteUploads</h4>
<pre>public static final&nbsp;int&nbsp;deleteUploads(javax.servlet.http.HttpServletRequest&nbsp;req)</pre>
<div class="block"><p>Delete all unused uploaded files of the given request.</p>
 
 <p>
        These files have been stored on the file system
        if there is a request attribute named <a href="../uws/service/UWS.html#REQ_ATTRIBUTE_PARAMETERS"><code>UWS.REQ_ATTRIBUTE_PARAMETERS</code></a>.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>req</code> - Request in which files have been uploaded.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of deleted files.</dd><dt><span class="strong">Since:</span></dt>
  <dd>4.1</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../uws/service/request/UploadFile.html#isUsed()"><code>UploadFile.isUsed()</code></a></dd></dl>
</li>
</ul>
<a name="getUser(javax.servlet.http.HttpServletRequest, uws.service.UserIdentifier)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUser</h4>
<pre>public static final&nbsp;<a href="../uws/job/user/JobOwner.html" title="interface in uws.job.user">JobOwner</a>&nbsp;getUser(javax.servlet.http.HttpServletRequest&nbsp;request,
               <a href="../uws/service/UserIdentifier.html" title="interface in uws.service">UserIdentifier</a>&nbsp;userIdentifier)
                              throws java.lang.NullPointerException,
                                     <a href="../uws/UWSException.html" title="class in uws">UWSException</a></pre>
<div class="block"><p>Extract the user/job owner from the given HTTP request.</p>
 
 Two cases are supported:
 <ol>
        <li><b>The user has already been identified and is stored in the HTTP attribute <a href="../uws/service/UWS.html#REQ_ATTRIBUTE_USER"><code>UWS.REQ_ATTRIBUTE_USER</code></a></b> => the stored value is returned.</li>
        <li><b>No HTTP attribute and a <a href="../uws/service/UserIdentifier.html" title="interface in uws.service"><code>UserIdentifier</code></a> is provided</b> => the user is identified with the given <a href="../uws/service/UserIdentifier.html" title="interface in uws.service"><code>UserIdentifier</code></a> and stored in the HTTP attribute <a href="../uws/service/UWS.html#REQ_ATTRIBUTE_USER"><code>UWS.REQ_ATTRIBUTE_USER</code></a> before being returned.</li>
 </ol>
 
 <p>In any other case, NULL is returned.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - The HTTP request from which the user must be extracted. <i>note: if NULL, NULL will be returned.</i></dd><dd><code>userIdentifier</code> - The method to use in order to extract a user from the given request. <i>note: if NULL, NULL is returned IF no HTTP attribute <a href="../uws/service/UWS.html#REQ_ATTRIBUTE_USER"><code>UWS.REQ_ATTRIBUTE_USER</code></a> can be found.</i></dd>
<dt><span class="strong">Returns:</span></dt><dd>The identified user. <i>MAY be NULL</i></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - If an error occurs while extracting a <a href="../uws/service/UWSUrl.html" title="class in uws.service"><code>UWSUrl</code></a> from the given <code>HttpServletRequest</code>.</dd>
<dd><code><a href="../uws/UWSException.html" title="class in uws">UWSException</a></code> - If any error occurs while extracting a user from the given <code>HttpServletRequest</code>.</dd><dt><span class="strong">Since:</span></dt>
  <dd>4.1</dd></dl>
</li>
</ul>
<a name="clearDirectory(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearDirectory</h4>
<pre>public static final&nbsp;void&nbsp;clearDirectory(java.lang.String&nbsp;directoryPath)</pre>
<div class="block">Empties the specified directory.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>directoryPath</code> - The path of the directory to empty.</dd></dl>
</li>
</ul>
<a name="clearDirectory(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearDirectory</h4>
<pre>public static final&nbsp;void&nbsp;clearDirectory(java.io.File&nbsp;directory)</pre>
<div class="block"><p>Empties the specified directory.</p>
 
 <p><i><u>Note:</u> The directory is NOT deleted. Just its content is destroyed.</i></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>directory</code> - The directory which has to be emptied.</dd></dl>
</li>
</ul>
<a name="flush(java.io.PrintWriter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>public static final&nbsp;void&nbsp;flush(java.io.PrintWriter&nbsp;writer)
                        throws <a href="../uws/ClientAbortException.html" title="class in uws">ClientAbortException</a></pre>
<div class="block"><p>Flush the buffer of the given <code>PrintWriter</code>.</p>
 
 <p>
        This function aims to be used if the given <code>PrintWriter</code> has been provided by an <code>HttpServletResponse</code>.
        In such case, a call to its flush() function may generate a silent error which could only mean that
        the connection with the HTTP client has been closed.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>writer</code> - The writer to flush.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../uws/ClientAbortException.html" title="class in uws">ClientAbortException</a></code> - If the connection with the HTTP client is closed.</dd><dt><span class="strong">Since:</span></dt>
  <dd>4.1</dd>
<dt><span class="strong">See Also:</span></dt><dd><code>PrintWriter.flush()</code></dd></dl>
</li>
</ul>
<a name="write(java.io.InputStream, java.lang.String, long, javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public static final&nbsp;void&nbsp;write(java.io.InputStream&nbsp;input,
         java.lang.String&nbsp;mimeType,
         long&nbsp;contentSize,
         javax.servlet.http.HttpServletResponse&nbsp;response)
                        throws java.io.IOException</pre>
<div class="block">Copies the content of the given input stream in the given HTTP response.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>input</code> - Data to copy.</dd><dd><code>mimeType</code> - Type of data to copy (may be null).</dd><dd><code>contentSize</code> - Size of the file to write.</dd><dd><code>response</code> - Response in which the data must be copied.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is an error while opening the output stream or while copying.</dd></dl>
</li>
</ul>
<a name="writeErrorFile(java.lang.Exception, uws.job.ErrorSummary, uws.job.UWSJob, java.io.OutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeErrorFile</h4>
<pre>public static final&nbsp;boolean&nbsp;writeErrorFile(java.lang.Exception&nbsp;ex,
                     <a href="../uws/job/ErrorSummary.html" title="class in uws.job">ErrorSummary</a>&nbsp;error,
                     <a href="../uws/job/UWSJob.html" title="class in uws.job">UWSJob</a>&nbsp;job,
                     java.io.OutputStream&nbsp;output)
                                    throws java.io.IOException</pre>
<div class="block">Writes the stack trace of the given exception in the file whose the name and the parent directory are given in parameters.
 If the specified file already exists, it will be overwritten if the parameter <i>overwrite</i> is equal to <i>true</i>, otherwise
 no file will not be changed <i>(default behavior of <a href="../uws/UWSToolBox.html#writeErrorFile(java.lang.Exception,%20uws.job.ErrorSummary,%20uws.job.UWSJob,%20java.io.OutputStream)"><code>writeErrorFile(Exception, ErrorSummary, UWSJob, OutputStream)</code></a>)</i>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ex</code> - The exception which has to be used to generate the error file.</dd><dd><code>error</code> - The error description.</dd><dd><code>job</code> - The job which ended with the given error.</dd><dd><code>output</code> - The stream in which the error description and trace must be written.</dd>
<dt><span class="strong">Returns:</span></dt><dd><i>true</i> if the file has been successfully created, <i>false</i> otherwise.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is an error while writing the description and the stack trace of the given error.</dd></dl>
</li>
</ul>
<a name="printStackTrace(java.lang.Throwable, java.io.PrintWriter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>printStackTrace</h4>
<pre>public static final&nbsp;void&nbsp;printStackTrace(java.lang.Throwable&nbsp;ex,
                   java.io.PrintWriter&nbsp;pw)
                                  throws java.io.IOException</pre>
<div class="block">Prints the full stack trace of the given exception in the given writer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ex</code> - The exception whose the stack trace must be printed.</dd><dd><code>pw</code> - The stream in which the stack trace must be written.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is an error while printing the stack trace.</dd></dl>
</li>
</ul>
<a name="printURL(uws.service.UWSUrl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>printURL</h4>
<pre>public static final&nbsp;void&nbsp;printURL(<a href="../uws/service/UWSUrl.html" title="class in uws.service">UWSUrl</a>&nbsp;url)</pre>
<div class="block">Displays all the fields of the given UWSUrl.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>url</code> - The UWSUrl which has to be displayed.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../uws/UWSToolBox.html#printURL(uws.service.UWSUrl,%20java.io.OutputStream)"><code>printURL(UWSUrl, java.io.OutputStream)</code></a></dd></dl>
</li>
</ul>
<a name="printURL(uws.service.UWSUrl, java.io.OutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>printURL</h4>
<pre>public static final&nbsp;void&nbsp;printURL(<a href="../uws/service/UWSUrl.html" title="class in uws.service">UWSUrl</a>&nbsp;url,
            java.io.OutputStream&nbsp;output)
                           throws java.io.IOException</pre>
<div class="block">Displays all the fields of the given UWSUrl in the given output stream.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>url</code> - The UWSUrl which has to be displayed.</dd><dd><code>output</code> - The stream in which the fields of the given UWSUrl has to be displayed.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is an error while writing in the given stream.</dd></dl>
</li>
</ul>
<a name="getMimeType(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMimeType</h4>
<pre>public static final&nbsp;java.lang.String&nbsp;getMimeType(java.lang.String&nbsp;fileExtension)</pre>
<div class="block">Gets the MIME type corresponding to the given file extension.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileExtension</code> - File extension (i.e. .txt, json, .xml, xml, ....)</dd>
<dt><span class="strong">Returns:</span></dt><dd>The corresponding MIME type or <i>null</i> if not known.</dd></dl>
</li>
</ul>
<a name="getFileExtension(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getFileExtension</h4>
<pre>public static final&nbsp;java.lang.String&nbsp;getFileExtension(java.lang.String&nbsp;mimeType)</pre>
<div class="block">Gets the file extension corresponding to the given MIME type.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>mimeType</code> - A MIME type (i.e. text/plain, application/json, application/xml, text/xml, application/x-votable+xml, ....)</dd>
<dt><span class="strong">Returns:</span></dt><dd>The corresponding file extension or <i>null</i> if not known.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UWSToolBox.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../uws/UWSExceptionFactory.html" title="class in uws"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?uws/UWSToolBox.html" target="_top">Frames</a></li>
<li><a href="UWSToolBox.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
